# CS102 ~ Personal Log page ~
****
## Ege Erg√ºl
****

On this page I will keep a weekly record of what I have done for the CS102 group project. This page will be submitted together with the rest of the repository, in partial fulfillment of the CS102 course requirements.

### ~ 28 April 2020 ~
This week, we started to the detailed design stage of our project. At first, it was challenging to shape some ideas on our minds since we did not have the adequate amount of information about FireBase and Android Studio, so we begin searching about them. My main focus was the android studio. I downloaded and installed Android Studio and made it work. It was challenging because of the speed of my computer and I had great difficulties with setting an emulator (virtual phone) to my PC. Afterward, I immediately started to practice on Android Studio. So far, I have managed to make a dead-simple calculator, but it was a good practice good for me to understand the basics of Android Studio. The other focus of mine this week was the design of our project. I tried to determine the classes &  possible methods by reading the previous reports of ours and formed a UML code for it. Then, I proposed my work to my team and we started to discuss it, our design has not been finalized yet but we made a great process. By the end of tonight, we will hopefully finalize it.

### ~ 4 May 2020 ~
This week, Bora and I worked heavily on the skeleton of our apps. The first concern on ours was to connect our app to the firebase. There were two options: Authenticated firebase and Realtime database. It took a while for us to figure out that we did not need to select between two of them but instead we needed to implement both! We were so focused on selecting one of them that we skipped the ultimate truth and when eventually we saw our faulty point of view, I understood that the prerequisite for programming was to have a clear mindset. We have to look from different perspectives all the time. After finally creating the first user to our app and storing its data in both ways, we were challenged by several more problems. Manipulating firebase was not that simple (creating, reading updating, and deleting data) but somehow we did what we could and for now, everything is working. Now our app can sign up & login as both customer and restaurant owner. Two user profiles have two separate home pages and they can take several actions. Both customers and restaurants can display and edit their information at our database and log off. There are several more things that each profile can do but they are not finalized yet. We see that our app has some bugs: when you hit to the back button on the customer/restaurant home page, you are directed to the previous activity (either sign up or login activity) and you have to log in once more. Small bugs but needs to be fixed. Now, we will try to find the reasons why and try to fix them.

### ~ 6 May 2020 ~
Since my last entry (only in 48 hours), a lot has changed. Firstly, I can say that we successfully fixed some bugs mentioned previously. There are only a few left. Yet, that is not what has changed. Bora and I did develop both profiles pages and the activities they can do. Up to a certain point, everything was working fluently. Then, I added a feature for restaurant owners to create a menu for their restaurants. They could add/edit their dishes. It was working too until we decided to add multiple dishes... At that point, I understood how fragile programming can be. It was a strange situation, when we tried to add the second dish, the program was shutting down itself. Yet, firebase was getting updated and after we logged in again, we could say that food was added. There was no reason for our code to be working and it created the illusion that we had "broken" the previously working code as well. After hours and hours of studying, I figured out that it was happening because we were trying to add food, not as an object, but instead, we were trying to add dishes' data(name, price, ingredients) as separate and multiple data. Bora and I immediately created a food class and it solved all of the problems. In the previous year, I had faced and fixed many errors but none of them was challenging and demotivating as this one. I, once more, realized that a programmer has to be open-minded all the time. We were looking for the error in wrong places, and when we started to look at correct places, we fixed the problem. Now, our team is experiencing other troubles with Git hub but I know that once we start looking from another perspective, we will solve the problem. My plan for the following days is to work with Berkay. We will try to integrate his work about making reservations to our skeleton we have designed with Bora. Hopefully, everything should end up well!

### ~ 8 May 2020 ~
In the previous 3 days, our app stopped working multiple times. In this blog, I will list the reasons why and our solutions to those problems:

1) We were using GitHub wrong and it caused several problems. As we tried to pull the current project from the main branch, our apps were crashing. Then, we searched and started to select the option of "Accept yours", that prevented some essential non-java related code to be overridden. Of course, we overrode java related files by selecting "Accept theirs".

2) As the GUI team of our project made changes trough our app, they deleted some stuff (let's say progress bar) from XML files and when they tried to run the app, due to the differences between java files and XML files, our app crashed for multiple times. We solved this problem together and agreed to write down more comments. They wrote comments for stuff they delete and we noted things that they should/shouldn't delete. With correct communication, we overcame this problem.

3) Sometimes, firebase was failing to save each data to firebase efficiently. For example, when a restaurant is created, 16 properties of it should be saved to the database for our code to work efficiently. However, sometimes firebase was saving only 12 (sometimes only 2!) of these properties and as we were using our app, this was causing some problems. We believe that this is happing because we want firebase to save a lot of data at the same time. We will try to fix this situation by creating restaurant objects and firebase will be saving only 1 object data instead of 16 seperate data at the same time. This should prevent such errors. If not, we don't know what can be the problem yet. We are not sure if this error is our fault or firebase's. We are investigating.

Besides these, in the previous 3 days, I couldn't progress as well as before because most of the time, I was busy with detecting and solving the stated errors. Yet, Bora and I managed to get the feature of "My Fav Restaurants" working. Besides now, when a restaurant is clicked, customers can see the restaurant's info and menu. Next, we will start working on the real stuff: making reservations. Berkay has progressed well on eclipse by using SQL database. We will search for ways to implement his work to android and firebase, and hopefully get some sleep!

### ~ 9 May 2020 ~
Today, we finalized the skeleton of our app! Now, restaurants can add/edit/delete dishes from their menu, also they can make promotions. They can view their own profile and edit their information. If they need help, they can view our HELP page as well. Customers can see each restaurants profile, menu and promotions. Like restaurants, they can view their accounts and edit their information. They also can add restaurants to their favorite restaurants or remove from there. Of course, each user's (both restaurant owners' and customers') data is stored in Firebase efficiently. To conclude, my part of the project is finally finished. From now on, GUI team will finalize the appereance of our app and Berkay will integrate reservation making process to our app. Bora and I will be assisting Berkay on this process. If everything goes according to the plan, hopefully by the end of this week, we will be done with our project!

### ~ 14 May 2020 ~
The previous few days were challenging for us. We all are tired at the moment but I believe we have progressed remarkably so far. Berkay and I have been working on the reservation making process. First things first, we managed to make firebase store seat plans and time slots (the classes which Berkay created) for each restaurant. We knew that when we tried to put multiple data to Firebase at the same time, it would be a problem; so instead, we created time slots and seat plans and put them into a hash map. Then, we put that hash map to firebase, that solved our first problem! Another problem was deciding where to store the reservation objects. We couldn't store them under restaurants because customers should have access to reservations as well. I mean, it is possible to do that but it is not a good solution since it takes a lot of unnecessary iteration. So we decided to open another child under the project called reservations and sub-categorized them as "ongoing reservations" & "past reservations". All of the new reservations are put under on-going reservations. As time passes, our app checks all of the current reservations and if they are outdated, it deletes them and puts them to past reservations. The idea was simple and "neat" in my opinion. However, we face some other problems as we try retrieving data from the database. Currently, Berkay is looking for ways to retrieve restaurants as objects from the database. Meanwhile, I am trying to make our app "updatable". When a customer/restaurant enters to their reservations page, an update method is called immediately and retrieves only that restaurant's/customer's reservations from the database by "orderByChild().equals()" combination. Then deletes the outdated reservations and recreated a clone of it so that we can store the exact same reservation under past reservations. So far, it is working half of the time... I am trying to find the reason behind this error. Hopefully, this weekend, we will be done with all of the reservation making precess part of our app.  

### ~ 17 May 2020 ~
The problem of reservations not being updated at random times is solved! I first tried to find a pattern between those "random" times and indeed there was a pattern. Whenever restaurants were to display their reservations before customers, this was causing customers' reservations not to be updated. So I knew that when restaurants were calling their update method, something was going terribly wrong. Then, (perhaps by a bit of luck), I noticed that the reference word of "user" was not referring to a customer on the restaurant's update method. I had copied and pasted the exact code from the customer's update method and had changed each word of "customer " as "restaurant". So I had missed the word of "user" and it was creating a bug! That one word cost me a whole day. I advise no one to copy anything from somewhere to somewhere even if they had written the code by on their own. I learned that one should always think as they write code and never close their eyes. After solving this systematic problem, I encountered many more problems but none of them were as challenging as this one. Now, when someone makes a reservation (that reservation can either have a pre-order or not), their reservation is displayed both on that customer's and the restaurant's profile. when they are out-dated, they are displayed under the title of "past reservations". Also, customers can rate the past reservations as well. The problem is that currently, they can rate a reservation more than once. It is harder than I thought it would be to prevent this bug. I asked for help from Bora to fix it. He is working on that. Today, we will merge our works with Berkay and hope that everything will go okay! If things go according to the plan, the whole reservation making process will be finished.  


### ~ 18 May 2020 ~
Yesterday and today, Berkay and I worked hard to merge our works. Earlier, I had written that "if things go according to plan...", but of course they did not. Tones of errors we received, yet we solved each one of them. In this process, Berkay realized some minor mistakes that I could not realize before in my code. We fixed them together. As a result, some bugs that I could not fix earlier are now all right! Also in these two days, I finalized some activities that were left to be completed later on. I added the second page for the restaurant sign up process. I also added functionality to the buttons of "promotions" and "best restaurants". I canceled out one child of our firebase. At the beginning of our project, I thought that it was a good idea to open a child for the best restaurants, but now I see that there is no need for that. In essence, to display the best restaurants, our app iterates trough every restaurant and distinguishes the restaurants which have a higher rating than 3.75. This method is called at "onCreate" method and this allows our app to be more dynamic (one day, there may be 5 best restaurants while another day, there may be only 2). This is more efficient for our firebase as well. Also, I added onClickListeners to some card views designed by Arda as well. This was a special task if you were to ask me because I did not know what XML/java code Arda had written for those card views. He told me that it was possible to add onClickListeners and he told me what should be done and (with a little search), I managed to finish the task. Our instructor always talks about something like this I believe. One should be able to work with someone else's code without knowing 100% how it works. With sufficient information, they should be able to finish a specific task to satisfy their "bosses". That's exactly what we did. I also made each reservation rateable only for once. I believe we are so close to the end (it was about time). Tomorrow we will record our video.

### ~ 20 May 2020 ~
Today, we finished recording our video for our app. It was harder than writing hundreds of lines of code! So much to show and talk about but we had only 10 minutes. It was really hard. Berkay and I had only 2,5 minutes to demonstrate the reservation making process. It took 5 hours to shoot it! We recorded and deleted for at least 100 times so that it would be understandable, comprehensive and would not exceed 2.5 minutes. I guess, this is a core skill that every engineer should have. If you do great work and if you cannot reflect it in limited time, no one pays you attention I guess. So, our app is finished! I am proud of my friends and myself, and our app. In my last entry, I am going to briefly list all of the things I have done for this project:
1) Bora and I researched about the android studio and firebase for a couple of days. We needed a way to distinguish two user profiles: Restaurants and customers. We realized that we did not need to do that in the authentication process. We could store their data under two different branches in realtime database. So we begin our app.
2) After finalizing login/sign-up pages, we moved on with features of our app. We made list views in which customers could display best restaurants, all restaurants, and their favorite restaurants. We of course made restaurants clickable, so when a customer pressed on a restaurant, they would be directed to a page in which they could see that restaurant's information.
3) We (Bora and I) made customers'/restaurants' information on database updateable. A user could edit their profile and the changes would be updated on our database as well. We added some features to restaurant profile as well (Take a look at your restaurant, add/remove  dish to/from their menu, add/remove promotions, etc.) By that time, Berkay was done with the reservation making process and he was ready to merge his work with ours.
4) Berkay and I co-operated for about two weeks to merge his work with ours. We first needed our firebase to store data of each restaurant's seat plan. It was a problem by then and we even considered using another database! Then, hashmaps came to the rescue and we managed to store tones of data on our database. Then, I created the activities for the reservation making process in which customers could select a table, a day, and a time slot. Then, they could either finish their reservation or could pre-order. I created another activity for pre-ordering as well. When customers finalized their reservations, I updated that specific time slot's reserved status.
5) Meanwhile, Berkay was enhancing the reservation making process in other aspects. When we both finished the tasks that we were working with, we co-operated again to merge them. For a couple of days, we made zoom conferences and experienced a demo of how international jobs work! (It is a funny thing that he lives 2 km away from me, but corona...). In the end, together we finalized the reservation making process.
6) Despite all of these main tasks, I  always tried to keep track of what my friends were doing and I tried to help them out. A simple example would be that Arda had prepared card views for genres, but they were not functioning. He was so busy with other stuff by then so I asked if I could help him. He said that I could make those card views clickable and so I did. I enjoyed this co-operation a lot because actually none of us had to re-write each other's work. Usually in our labs, when we needed to further extend the previous lab's work, I always needed to change my own work. So one expects that in this co-operation, at least one thing should go wrong, but nothing did. It was neat! 

### ~ Self Evaluation~

I think it is always important for one to self-evaluate him/herself. I briefly want to evaluate myself and my performance on this project.

Strengths: I actually was a better team player then I thought I would be! I always listened to my friends before saying something against them. There were times in which my idea was bad and theirs were better. In those times, I did not hesitate to throw my ideas/works to trash. In times when I knew that my friends were wrong, I tried to correct them in such a way that they wouldn't be offended. I also think that I learned effective communication as well. With git hub, we struggled a lot so we decided that everyone would write to our group before pushing/pulling code to/from git hub. I usually forget to such things but in this project, I did not. I knew that the mistakes I do would affect my team. I always tried to be punctual so none of my friends would wait for me. 

Weaknesses: I panicked easily. Whenever something went wrong, I panicked a lot, and sometimes, my freaking-out periods demotivated my team as well. The moment I realized this, I  stopped freaking out on our WhatsApp group. I first freaked out on my own and when I calmed down, only then I wrote to my friends. I have a habit to expect always the worst. I tried not to do so in this project because my friends would be affected by my negativity. I might have done this sometimes but I tried no to do so and tried to keep the motivation up all the time. 

In this project, I  learned about not freaking out! Of course I learned using Android Studio, Firebase, Git Hub, and recording my work but besides these, I believe the most important skill I developed was to remain calm all the time. We experienced tonnes of problems in these few months. I freaked out a lot and in one particular night (I was too tired in my defense) I experienced a mental break-down(ish) panic attack(ish) thing... That night, I think I grew up and I somehow fixed the problem on my own. After that night, I never freaked out again. 

Endless thanks to our instructor Mr. David, TA, and of course my team!
